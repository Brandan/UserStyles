/* ==UserStyle==
@name           Amazon Dark
@namespace      https://github.com/Brandan/UserStyles/raw/main/AmazonDark.user.css
@author         Brandan E. Lloyd
@description    `Modifications to Amazon's style to enable a dark mode`
@version        20260126
@license        GPL
==/UserStyle== */

@-moz-document domain("amazon.com")
{
    /* Customize element's background */
    .a-color-base-background,
    .a-button.a-button-dropdown,
    .av-retail-m-nav-dropdown,
    .dvui-callout,
    #hmenu-canvas,
    .gw-card-layout .a-cardui,
    .a-expander-content-fade,
    .a-color-alternate-background,
    .a-box.a-color-alternate-background, .a-box.a-color-offset-background,
    .a-button-group .a-button,
    .a-button-group .a-button .a-button-inner,
    .a-divider.a-divider-section .a-divider-inner::after,
    .a-popover,
    .a-popover-wrapper::after,
    .checkout-card-color,
    .ChatRoller__chatRoller___SwO92,
    .nav-flyout, .nav-flyout-sidePanel,
    .sc-background-dark,
    select,
    table.a-bordered tr:first-child th,
    #checkout-page-container .turbo-checkout-push-to-bottom,
    #checkout-page-container .turbo-checkout-panel-link:hover,
    /* Devices hover */
    #mars-fs-flyouts,
    /* All formates slideout */
    #morpheus-sidesheet,
    #seller-profile-container.spp-redesigned.spp-desktop .page-box-container,
    ._morpheus-popularity-rank-sidesheet-card_ss_tab-row__1Uxai,
    .search-preview-results,
    .drop-down-content,
    .Dropdown-module_dropdown_container__2YGLm,
    .NavigationBar-module__dropdown_content_3-4_ZaDohT-sNEqnDVyc5U,
    #all-offers-display .aod-sticky-pinned-offer,
    #aod-container,
    #aod-filter-list,
    /* kindle unlimited popup when attempting to borrow more
        than the max number of books you can have at one time */
    #stickyFooterExpanded, #returnAndBorrowExpanded,
    /* drop down list on company pages */
    [class*="style__navList"]
    {
        background-color: var(--theme-color) !important;    
        background-image: none !important;
    }
          
    #all-offers-display .aod-sticky-pinned-offer
    {
      border-bottom: solid var(--text-color) 1px;
    }

    #suggestToClubButtonSection .a-button-text,
    #wishlistButtonStack .a-button-text
    {
        color: var(--text-color) !important;  
    }

    /* Customize text color */
    .a-color-base, 
    select, 
    .displayAddressDiv .displayAddressUL li {
        color: var(--text-color) !important;   
    }

    .a-color-secondary {
        color: #999 !important;   
    }

    /* Customize border color */
    ul.a-tabs,
    .av-retail-m-nav-dropdown,
    .a-dropdown-common .a-dropdown-item:hover .a-dropdown-link {
        border-color: var(--text-disabled) !important;   
    }

    /* Customize darker border color */
    .s-card-border, .a-popover.a-arrow-bottom .a-arrow {
        border-color: #222 !important;   
    }
    
    /* search bar customization */
    #navbar.nav-flex #nav-belt #nav-search .nav-searchbar .nav-search-field,
    .dvui-callout,
    .search-preview-results,
    #aod-container {
        border: solid 1px var(--text-color) !important
    }
    
    #navbar.nav-bluebeacon #nav-search .nav-search-submit {
        background-color: var(--link-color) !important;    
        border: solid 1px var(--text-color) !important
    }
    
    table.a-bordered tr:first-child th,
    .a-dropdown-common .a-dropdown-item:hover .a-dropdown-link,
    /* amazon video season dropdown*/
    .dv-node-dp-seasons ul
    {
        background-color: #222 !important;    
    }

    #tab-content-episodes li .fbl-btn
    {
      border: solid var(--accent-color) 1px !important;
    }

    #tab-content-episodes li:hover >div
    {
      background-color: var(--theme-color) !important;
      border: solid var(--accent-color) 1px !important;
    }

    .fable-portal-container label
    {
      box-shadow: 0 4px 8px 3px rgba(0,0,0,1),0 1px 3px rgba(0,0,0,1);
      background-color: var(--theme-color) !important;    
      border: solid var(--text-color) 1px !important;
      opacity: 0.75 !important;
    }
          

    /* video progress bar */
    .fbl-progress-bar [data-testid="progress-bar"]
    {
      background-color: #fff !important;
      opacity: 0.3 !important;
    }

    #tab-content-episodes li:hover .fbl-progress-bar [data-testid="progress-bar"]
    {
      opacity: 1.0 !important;
    }

    /* menu background  */
    #hmenu-canvas-background,
    ._morpheus-popularity-rank-sidesheet-card_ingress_overlay__T88OB
    {
        background-color: rgba(0,0,0,.8) !important;
    }
    
    .a-expander-partial-collapse-header {
        background-color: rgba(51,51,51,.95) !important;
    }
    
    /* invert icon colors */
    .a-icon, 
    .rpi-icon,
    #morpheus-sidesheet-close, 
    #aod-close {
        filter: invert(1) !important;
    }
    
    /* filtered images with white backgrounds */
    img.nav-categ-image,
    img.wfv-read-and-listen-icon {
        filter: invert(0.8) !important;
    }

    #morpheus-sidesheet-close {
        filter:none !important;
    }
    
    /* Customize the selected page button */
    .s-pagination-selected {
        background-color: #2f2f2f !important;
        border: none !important;
        border-top: solid var(--text-color)  1px !important;
        border-bottom: solid var(--text-color)  1px !important;
        color: var(--accent-color) !important;
    }
    
    #checkout-page-container .turbo-checkout-panel-link:hover
    {
        background-color: #2f2f2f !important;
    }
    
    .a-color-secondary, .a-color-tertiary {
        color: #999 !important;
    }

    .DVPAWebWidgetsUI_Button__retail *, .returnItemButton.a-button .a-button-text *, 
    .a-button-text, .nav-action-inner, .ewc-button-text, .sc-without-multicart, 
    button.legal-button .aiv-submit *, 
    .a-button-primary *, .action_button * {
      color: #111 !important;
    }
        
    /* various buttons */
    .author-follow-button, #GLUXZipUpdate
    {
      background-color: rgb(255, 255, 255)!important;
    }

    .a-button,
    .a-button.a-button-toggle button,
    .a-button.a-button-toggle input,
    .a-button.a-button-toggle span,
    .a-button-primary, .a-button-oneclick, #sc-buy-box-ptc-button .a-section, 
    .a-button-preorder 
    {
      color: var(--theme-color)!important;
      background-color: rgb(255, 216, 20)!important;
    }

    .a-button.a-button-unavailable,
    .a-button.a-button-toggle.a-button-unavailable button,
    .a-button.a-button-toggle.a-button-unavailable input,
    .a-button.a-button-toggle.a-button-unavailable span,
    .a-button-primary.a-button-unavailable, .a-button-oneclick.a-button-unavailable, 
    .a-button-preorder.a-button-unavailable
    {
      color: var(--text-color)!important;
      background-color: rgb(255, 216, 20)!important;
    }
  
    .search-box-container,     
    .search-container,
    .NavigationBar-module__dropdown_content_3-4_ZaDohT-sNEqnDVyc5U {
        border: solid #222 1px !important;
    }

    .fbl-icon-btn {
      border: solid rgb(255, 216, 20) 1px !important;    
    }

    .action_button {
      background: rgb(255, 216, 20)!important;    
    }
  
    .a-divider.a-divider-break::after {
      border-top-color: #444 !important;
    }
    /* style delivered orders (requires some JS to run to add the delivered class to the order) */
    .order.delivered, .dropdownUnavailable
    {
        opacity: 0.25;
    }

    .order.delivered:hover, .dropdownUnavailable:hover
    {
        opacity: 1;
    }

    .webPlayerContainer, 
    .aod-darken-background
    {
        background-color: rgba(0, 0, 0, 1) !important;
    }
    
    /* web player progress bar */
    .f15vbt64 
    {
        background-color: rgb(221, 221, 221) !important
    }
    /* Kindle Reader styling */
    .kr-renderer-container-fullpage {
      background-color: #000 !important;    
    }
  
    .selection-button--yellow {
      background-color: rgba(245,245,128,0.9) !important;    
    }
  
    .selection-button--blue {
      background-color: rgba(128,128,245,0.9) !important;    
    }
    
    .selection-button--pink {
      background-color: rgba(245,128,128,0.9) !important;    
    }

    .selection-button--orange {
      background-color: rgba(255,165,128,0.9) !important;    
    }
    
    .kg-selection {
      background-color: rgba(245,245,128,0.3) !important;
    }

    .kg-blue-highlight {
      background-color: rgba(128,128,245,0.3) !important;
    }

    .kg-pink-highlight {
      background-color: rgba(245,128,128,0.3) !important;
    }

    .kg-orange-highlight {
      background-color: rgba(245,128,0,0.3) !important;
    }

    .kg-yellow-highlight {
      background-color: rgba(245,245,128,0.3) !important;
    }
}
