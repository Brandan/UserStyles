/* ==UserStyle==
@name           Google Dark
@namespace      https://github.com/Brandan/UserStyles/raw/main/GoogleDark.user.css
@author         Brandan E. Lloyd
@description    `Modifications to Google's style to enable a dark mode`
@version        20230710.1
@license        GPL
==/UserStyle== */

@-moz-document domain("mail.google.com")
{
  :root {
      --badge-color: #666;
  }

  /* Loading... */ 
  .vX .vh {
    background-color: #f9edbe !important;
    border: 1px solid #f0c36d !important;
    border-radius: 0 0 2px 2px !important;
    box-shadow: 0 2px 4px rgba(0,0,0,.2) !important;
    color: #222 !important;
    padding: 6px 10px !important;
  }
  
  .vX .vh div span {
    color: #222 !important;
  }

  [role="search"] >table, 
  /* Personal Information Card */
  .DYLA1c,
  /* Email contact popup card */
  .YADHBe, 
  /* Message on the bottom allowing the standard view to be loaded */
  .msgb,
  /* Minimized Email compose */
  .Hy .k,
  /* RSVP popup */
  .aTk
  {
      background-color: var(--theme-color) !important;
      border: solid var(--accent-color) 1px !important;
  }
  
  /* Email compose floating bar */
  .aDg > .aDj,
  .aZ > .J-Z
  {
      border: solid var(--text-color) 1px !important;
      background-color: var(--theme-color) !important;        
      padding: 0.25rem;
  }
  
  /* Email compose floating bar */
  .aDg > .aDj:after, .aC3, .azY, .azX,
  /* email body elements with user defind styles that have background styles */
  [id=':la'] [style*='background'],
  [id=':ka'] [bgcolor],
  .ii [style*='background'],
  .ii [bgcolor],
  /* add link dialog */
  .LW-KX-Jm,
  .LW-KX .J-KU,
  .LW-KX .J-KU-Jg,
  .LW-JD .J-KU-Jz
  {
      color: var(--text-color) !important;
      background-color: var(--theme-color) !important;        
  }
  
  [role="gridcell"] div.aaA,
  .mL,  
  .Un::after, 
  .J-Ph-hFsbo,
  .J-Ks-KO .J-N-Jo,
  .aDg > .aDj [role="listbox"] .J-Z-M-I-J6-H > .J-Z-M-I-JG,
  .T-axO .J-JN-M-I-JG,
  .bs1 + .bs3::before, .btj + .aD::before,
  .bs5::after,
  .ajy > .ajz,
  .ha .pH-A7, .ha .aoj,
  .bi4 > .T-KT:not(.T-KT-Jp):not(.byM)::before,
  .hB, .mK, .aaq .mK, .mI, .g1, .gZ, .aeT, .ajT, .SB, .By, .Bq,
  .ams::before,
  .OB, .XO, .SV,
  .J-Z-M-I-J6-H > .J-Z-M-I-JG,
  .aaA.eY, .aaA.eS, .aaA.fb, .Ie, .Id, .aaA, .dv, 
  .Xv.T-I.J-JN-M-I > .J-JN-M-I-JG, .og, .aeC,
  .asor.asor_i5, .gsoi_msra, .gsaq_b,
  /*Email icon in dragging label*/
  .lC::before,
  /* snooze calendar icon */
  .bsI,
  /* snooze last icon */
  .bwh,
  /* right-click menu icons on mail items */
  .J-N-JX,
  /* attachment icon */
  .gW,
  /* in-email label dropdown label checkboxes */
  .J-LC-JR-Jp .J-LC-Jo,
  .J-LC-Jo,
  .aDh [role='button'] .a1
  {
    filter:invert(1) !important;
  }
  
  [role="search"], .SK.ZF-zT,  
  [role="dialog"] [role="toolbar"], 
  /* in-page help popup */
  .wa, 
  [role="alert"] .vh, 
  [role="alertdialog"],
  [role="listbox"]
  {
      background-color: var(--theme-color) !important;
      border: solid var(--accent-color) 1px !important;
      border-radius: 8px
  }

  [role="link"] {
      color: var(--link-color) !important;
  }

  [role="dialog"] input, [role="dialog"] .dC, .SK.ZF-zT input[type="text"], .SK.ZF-zT input[type="text"]:focus, .SK.ZF-zT select, .SK.ZF-zT [role="listbox"], 
  [role="menu"] {
      border: solid #999 1px !important;
      border-radius: 3px;
  }
  
  /* toolbar buttons on compose dialog */
  .aDh [role="button"]
  {
      border: solid #999 1px !important;
      border-radius: 3px;    
  }
  
  /* toolbar buttons on compose dialog */
  .btC .J-N-JX
  {
      background-color: #000 !important;
  }
  
  .SK.ZF-zT input[type="text"], .SK.ZF-zT input[type="text"]:focus {
      padding: 1em;
  }

  [role="dialog"] input, .SK.ZF-zT [role="listbox"] {
      padding: 0.3em;
  }

  .SK.ZF-zT [role="button"],.SK.ZF-zT [role="link"], [role="dialog"] button
  {
      border: solid var(--link-color) 1px !important;
  }

  header iframe, 
  /* dropdown contact card in email */
  .ajA, [role="dialog"], [role="tooltip"] {
      background-color: var(--theme-color) !important;
      border: solid var(--accent-color) 1px !important;
  }

  .at *, .hN, .hO {
      background-color: var(--badge-color) !important;
      color: var(--accent-color) !important;
  }  

  /* Selected mail items */
  tr.x7, .x7 td,
  /* in-email label dropdown search box */
  .agd .J-M-JJ input,
  .J-LC-JT,
  .J-N-JT
  {
      background-color: #666 !important;
  }

  .aeN {
      border-right: solid #222 1px;
  }
      
  /* label when dragging email */
  .lE
  {
      background-color: var(--theme-color) !important;
      border: solid var(--accent-color) 1px !important;
      opacity: 0.9;
      border-radius: 5px;
  }
  
  /* label when dragging email */
  .lE > .lC {
    height: 35px;
  }
  
  /* floating toolbar on an email */
  .bqY {
      background: transparent !important;
  }
  
  /* side-panel navigation menu */
  .brC-dA-I.aT5-aOt-I-Jp svg path:not([fill='none'])
  {
      fill: var(--text-color) !important;
      transition : fill  500ms ease-out;
  }
    
  .brC-dA-I.aT5-aOt-I-Jp
  {
      background-color: var(--theme-color) !important;
      border: solid var(--text-color) 1px !important;
      border-radius: 35px 0 0 35px;
      transition : border 500ms ease-out, right 250ms;
  }

  .brC-dA-I.aT5-aOt-I-Jp:hover
  {
      border: solid var(--accent-color) 1px !important;
      border-right: none !important;
      transition : border 500ms ease-out, right 250ms;
  }

  .brC-dA-I.aT5-aOt-I-Jp:hover svg path:not([fill='none'])
  {
      fill: var(--accent-color) !important;
      transition : fill  500ms ease-out;
  }
  
  .acX > .L3.aap::after
  {
    content: 'ï¸™' !important;
    color: var(--text-color);
    font-weight: bolder;
    top: -3px;
  }
  
  .iN
  {
    background-color: #444 !important;    
  }
  
  .gmail_quote {
    border-left: solid #223 3px !important;
    padding-left: 5px;
  }
  
  .bzn .G-asx {
    background-color: transparent !important;
  }
  
  /* navigation areas */
  [role='navigation'] {
    z-index: 100;
  }
  
  /* alert areas */
  [role='alert'], 
  .w-asV {
    z-index: 99999 !important;
  }
  
  .aAU.aLF-aPX-aPs-JQ div[aria-hidden='true'] {
    display: none !important;
  }
  
  /* menus */
  [role='menu'] {
    z-index: 9999;
  }
  
  /* email compose discard button */
  [aria-label*='Discard draft'],
  /* email navigation arrows */
  [aria-label='Newer'] img,
  [aria-label='Older'] img
  {
    background-color: transparent !important;
  }
  
  /* More button */
  [aria-label='More'] img
  {
    display:none !important;
  }
  
  /* download / save attachment */
  .aQw
  {
    background-color: rgba(0,0,0, 0.5) !important;
  }
  
  /* pressed button */
  [aria-pressed='true']
  {
    border: solid var(--link-color) 1px !important;
    background-color: #444 !important;
  }
  
  .aLF-aPX-bhN .aLF-aPX-aPE-aLz-bhP, .aLF-aPX-bhN .aLF-aPX-aMO-auF-bhP, .aLF-aPX-bhP .aLF-aPX-aPU,
  .aLF-aPX-bhN .aLF-aPX-aPE-aLz-bhP, .aLF-aPX-bhN .aLF-aPX-aMO-auF-bhP,
  .aLF-aPX-bhP .aLF-aPX-aPU {
      background-color: #000 !important;
      z-index: 99999 !important;
  }
}
